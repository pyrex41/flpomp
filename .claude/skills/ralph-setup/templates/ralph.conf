# Ralph Wiggum Configuration
# Copy this file to your project root and customize

# =============================================================================
# HARNESS CONFIGURATION
# =============================================================================

# Which AI CLI to use: claude | opencode | codex | custom
HARNESS="claude"

# Model to use (required for opencode and codex, ignored for claude)
# Examples:
#   opencode: gpt-4, gpt-4-turbo, claude-3-opus, claude-3-sonnet
#   codex: o1, o1-mini, gpt-4
MODEL=""

# Custom command (only used when HARNESS="custom")
# Use {PROMPT_FILE} as placeholder for the prompt file path
# Example: CUSTOM_CMD="my-agent --input {PROMPT_FILE} --auto"
CUSTOM_CMD=""

# =============================================================================
# LOOP CONFIGURATION
# =============================================================================

# Maximum iterations before stopping (safety limit)
MAX_ITERATIONS=100

# Seconds to sleep between iterations
SLEEP_BETWEEN=5

# =============================================================================
# MODE DEFAULTS
# =============================================================================

# Default mode: plan | build
MODE="build"

# Allow Task tool for spawning subagents in build mode
# Set to true if your build tasks benefit from parallel subagents
ALLOW_SUBTASKS=false

# =============================================================================
# TOOL PERMISSIONS (Claude Code only)
# =============================================================================

# These are set automatically based on mode:
#
# Plan mode (--plan):
#   Read, Glob, Grep, Task, WebFetch, WebSearch
#   (All read-only tools for analysis)
#
# Build mode (--build):
#   Edit, Write, Bash, Read, Glob, Grep
#   (File modification + read tools)
#
# Build mode with --allow-subtasks:
#   Edit, Write, Bash, Read, Glob, Grep, Task
#   (Same as above + Task tool for subagents)
#
# Dangerous mode (--dangerous):
#   All tools, no permission prompts

# =============================================================================
# NOTES
# =============================================================================

# To run:
#   ./loop.sh --plan              # Planning mode
#   ./loop.sh --build             # Building mode (default)
#   ./loop.sh --build --allow-subtasks  # Build with subagents
#   ./loop.sh --dangerous         # Skip all permissions (use carefully)
#
# Override any setting via command line:
#   ./loop.sh --harness opencode --model gpt-4
#   ./loop.sh --max 50 --sleep 10
